
* 코드 개선가능한 부분들은 리팩토링 진행
  * 코드들 대부분 test code 작성해보기

## 특정 강의의 상세안에 수강후기 목록 (별점 높은 순(기본값) , param 바꾸면 별점 낮은순 , 좋아요 많은 순 , 최신순 이거 만들기)

##  openAI api api 서버에 통합 (요거 중요) 
해당 강의의 수강후기들을 요약 -> 요약한 글을 다시 넣어서 키워드 분석을 실시 -> 분석한 키워드들을 저장하는 테이블에 저장
-> 관리되고 있는 해당 테이블을 

차트에 대한 유머빼고 후기작성할때올꺼다
4개는 사용자가 한거에 실시간 변동이 되고
키워드분석 키워드 한개 ( 분석시점에 디비에 관리)

키워드, 평점빼고
나머지 3개 에 대한 요청을 만들어줘야된다
3개다 평균이다


## flask 에서 사용한 ml model 도 통합과정


## 마이페이지 교수(교수대시보드) (요거 수정 중요)

강의명 , 분반

본인의 강의 조회 -> 이후에 간편결제시스템도 들어갈거삭틍ㅁ


## 마이페이지 학생

본인이 수강한 강의 리스트 조회

본인이 수강한 강의에 수강후기 조회


[수정사항]

* Swagger cors 가 있다고 한다 (테스트할때)

* /mypage/professor 수정해야함


[한것]

* ReviewPost 엔티티 -> ClassReview 로 네이밍 변경
Class (학기중 열린 강의) 의 후기 이니까? ClassReview로 하면 굉장히 어울리는 이름이다!


* ~~ReleationShip 이런 엔티티들 이름 변경해야할듯 심플하게


* 학과별 강의 조회


* 학과별 개설된 강의 조회(class)


class 를 조회할때는 lecture 자체의 정보를 조회하면서

이수구분 , 학과, 학년..? 을 조회한다.


* Security 예외처리 완벽히 변경필요
  * addHeader 로 담아서 주는걸로 해결


1. 

2. 삭제하려고하면 내가 작성한글인지 아닌지 판단해야 하는데 지금 내가들고있는 20191434라는 값이랑 리뷰에서 날아오는 정보랑은 매핑이 안됨 그래서 삭제불가능

3. 수정할때도 마찬가지로 바디에 제목 내용만 던지니까 누가 수정하는지 알방법없음

4. 이름 통일해야할거 같음 어디서는 userName이고 어디서는또 username 어디서는 userNumber고, lecName이랑 lectureName도 마찬가지 ^___^

5. 좋아요 버튼도 500떠서 동작안함 ... reviewid에 해당 리뷰에 대한 id 넣고 userNumber에는 학번넣었음 토큰도 넣었고


  prompt 받아서 다시 전송
  prompt 내역 저장을 위한 controller?

지금 이시점에서 서버간 통신을 이루는것이 맞을까 하는 생각이 든다.

오히려 서버간의 통신을 유지하는 것보다 각 서버들이 따로 데이터를 관리하는것으로 정하는게 어떨까

[방향]
prompt 관련 디비 스키마를 하나 생성하고
api 서버는 해당 디비 스키마에 조회만 하고
prompt 서버가 해당 디비 스키마에 각종 데이터를 관리한다.

--

2024-08-25 02:41

나머지 3개 키워드 기능 작성

인기도(popularity) , 중요도(important) , 재미(funny)



---

2024-10-17 오후 09:10

### Review 정렬

lowness

likes

recent

기본값은 별점 높은순
다음부터는 별점 낮은순
  
 ### 평균평점 소수점 한자리까지

----

2024-10-19 오후 1:34

수정하기 기능 테스트 코드 작성

삭제하기 기능 테스트 코드 작성

---

2025-07-09

테스트 케이스 

수강 후기 작성

제목을 입력하지 않았을 경우,
내용을 입력하지 않았을 경우,

수강후기가 2개 연속으로 덧붙여 작성되었을 경우

중요도, 난이도 를 선택하지 않았을 경우,
별점을 입력하지 않았을 경우,

dto, controller, service, repository, domain

ClassListServcieTest

[X] 수강후기 상세 조회 시, 강의 및 교수 정보를 반환한다
[X] 수강후기 상세 조회 시, 존재하지 않는 강의 ID일 경우 예외를 반환한다.
[ ] 수강후기 상세 조회 시, 이미지 URL이 존재하지 않아도 기본값을 반환한다 // 처리하지못함
[ ] 수강후기 목록 조회 시, 강의명이 포함된 결과만 필터링하여 반환한다
[ ] 수강후기 상세 조회 시, 교수 정보가 null인 경우 Null-safe 하게 처리한다 // 처리하기 어려움
[ ] 수강후기 상세 조회 시, 연관된 학교 정보가 정확히 포함되어 반환된다
[X] 수강후기 상세 조회 시, 반환된 데이터가 DTO 스펙에 맞게 매핑 된다


엔티티 코드 , Embeddable로 무분별한 테이블 생성 사용으로 service 로직까지 복잡해지니 이 클래스로 분리해서 기능들 디미터 다 지켜지고, 테이블 하나로도 관리되도록 변경 -> service 로직까지 자연스럽게 개선됨

테스트 코드 다듬기

---

2025-07-13

ReviewService addReviewPost 로직 이제 적용해야함(embeddable 해둔거)

대학교 전체 강의 조회
대학교, 학과, 학년, 이수구분별 강의 조회


수강후기 작성
    제목
    내용
    별점
수강후기 수정
수강후기 삭제


다른사람 수강후기 좋아요


정렬 조회
    별점 높은순
    별점 낮은순
    좋아요 많은 순
    최신순 


로그인, 회원가입, 로그아웃


마이페이지
내가 수강한 강의 조회
내가 작성한 수강후기 조회
내 정보 조회


배너 이미지 링크 조회

스프링 배치 프로젝트 개선전에 ERD 부터 변경하고 다시 시작해야겠다.


Enrollment, Student, Review, Lecture 이 4가지로 관리하도록 변경했다 조잡한 테이블들은 다 집어치움


image url?

